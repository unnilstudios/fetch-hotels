!function(n){var t={};function e(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reviewBox=t.errorBox=t.hotelBox=void 0;t.hotelBox=function(n,t,e,a,c,i,l,s,r,d,v){for(var u=o(a),h=o(c),f=v.length-1,p=(Math.floor(Math.random()*(f-v[0]+1)+v[0]),""),g=0;g<s;g+=1)p+='<i class="fa fa-star"></i>';return'\n      <div class="hotelBox" id="hotel_'.concat(n,'">\n        <div class="row">\n          <div class="col-lg-4 no-pad">\n            <div class="hotel_image">\n                <img src="').concat(v,'" class="img-fluid h_image" alt="hotel">\n            </div>\n        </div>\n        <div class="col-lg-8 no-pad">\n            <div class="hotel_details">\n                <div class="row">\n                    <div class="col-lg-9 ">\n                        <div class="row">\n                            <div class="col-lg-12 ">\n                               <h3 class="h_name float-left">\n\n                                  ').concat(t,'\n\n                                </h3>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-lg-12 "> \n                              <span class="h_location float-left">\n\n                                ').concat(r," - ").concat(d,'\n\n                              </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-lg-3 "> \n                      <span class="h_rating float-right">\n\n                        ').concat(p,'\n\n                      </span>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-lg-12 ">\n                        <p class="h_description float-left">').concat(e,'</p>\n                    </div>\n                </div>\n            </div>\n            <div class="hotel_details">\n                <div class="row">\n                    <div class="col-lg-5 ">\n                        <button class="btn btn-secondary load_reviews" type="button" data-toggle="collapse" \n                        data-target="#review_').concat(n,'"\n                        id="loader_').concat(n,'"\n                        data-hotel-id="').concat(n,'"\n                        aria-expanded="false" aria-controls="#review_').concat(n,'"\n                        >Show Reviews</button>\n                    </div>\n                    <div class="col-lg-7 ">\n                        <div class="row">\n                            <div class="col-lg-12 ">\n                                 <h3 class="h_price float-right">\n\n                                    ').concat(i,'&#xA0;&#x20AC;\n\n                                  </h3>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-lg-12 "> \n                                <span class="h_dates float-right">\n\n                                  ').concat(u,"&#xA0;-&#xA0;").concat(h,'\n\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="col-lg-12 hotel_reviews no-pad">\n            <div id="review_').concat(n,'" class="reviewBox collapse col-lg-12"></div>\n        </div>\n    </div>\n</div>\n  ')};t.reviewBox=function(n,t,e,o){var a=1==o?"":"<hr>";return'\n        <div class="row">\n            <div class="col-lg-1"> \n              <span class="c_type float-right">\n\n                  '.concat(e?'<i class="fa fa-plus-circle positive"></i>':'<i class="fa fa-minus-circle negative"></i>','\n\n              </span>\n            </div>\n            <div class="col-lg-11">\n                <div class="row">\n                    <div class="col-lg-12"> <span class="commenter float-left">\n\n                        ').concat(n,'\n\n                      </span>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-lg-12">\n                        <p class="comment">').concat(t,"</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n      ").concat(a,"\n    ")};var o=function(n){return new Date(n).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};t.errorBox=function(){return'\n    <div class="alert alert-danger text-center" role="alert">\n      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&#xD7;</span>\n    </button>An error occured</div>\n    '}},function(n,t,e){"use strict";var o=e(0);!function(n){n&&n.__esModule}(e(6));var a=function(n){var t="https://fake-hotel-api.herokuapp.com/api/reviews?hotel_id=".concat(n);fetch(t).then(function(n){return n.json()}).then(function(t){var e=t.reduce(function(n,e,a){var c=e.name,i=e.comment,l=e.positive;return n+=(0,o.reviewBox)(c,i,l,function(n,t){return t-1==n}(a,t.length))},"");console.log(e),$("#review_".concat(n)).html(e),$("#review_".concat(n)).collapse("show")}).catch(function(n){return n})};$(".load_hotels").on("click",function(n){n.preventDefault(),function(){null!==$(".api_error")&&$(".api_error").remove();fetch("https://fake-hotel-api.herokuapp.com/api/hotels?count=5").then(function(n){return n.json()}).then(function(n){var t=n.reduce(function(n,t){var e=t.id,a=t.name,c=t.description,i=t.date_start,l=t.date_end,s=t.price,r=t.rating,d=t.stars,v=t.city,u=t.country,h=t.images;return n+=(0,o.hotelBox)(e,a,c,i,l,s,r,d,v,u,h)},"");$(".hotel_list").html(t),$(".load_reviews").on("click",function(n){var t=$(n.target).data().hotelId;$("#review_".concat(t)).hasClass("in")?($("#review_".concat(t)).collapse("hide"),$("#loader_".concat(t)).html("Show Reviews")):(a(t),$("#loader_".concat(t)).html("Hide Reviews"))})}).catch(function(n){console.log(n);var t=(0,o.errorBox)();$(".hotel_list").html(t)})}()})},,,,,function(n,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdGVtcGxhdGVzLmpzIiwid2VicGFjazovLy8uL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaWQiLCJkZXNjcmlwdGlvbiIsImRhdGVfc3RhcnQiLCJkYXRlX2VuZCIsInByaWNlIiwicmF0aW5nIiwic3RhcnMiLCJjaXR5IiwiY291bnRyeSIsImltYWdlcyIsInN0YXJ0aW5nX2RhdGUiLCJjb252ZXJ0R2VybWFuVGltZSIsImVuZGluZ19kYXRlIiwibGFzdF9pbmRleCIsImxlbmd0aCIsInJhdGluZ3MiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25jYXQiLCJjb21tZW50IiwicG9zaXRpdmUiLCJsYXN0X3JldmlldyIsInNlcGFyYXRvciIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwiX3RlbXBsYXRlcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZ2V0UmV2aWV3cyIsInVybCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJyZXZpZXdzIiwicmVkdWNlIiwibGlzdCIsInJldmlldyIsImluZGV4IiwicmV2aWV3Qm94IiwibGVuIiwiaXNMYXN0IiwiY29uc29sZSIsImxvZyIsIiQiLCJodG1sIiwiY29sbGFwc2UiLCJjYXRjaCIsImVycm9yIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJob3RlbHMiLCJob3RlbCIsImhvdGVsQm94IiwidGFyZ2V0IiwiaG90ZWxJZCIsImhhc0NsYXNzIiwiYWxlcnQiLCJlcnJvckJveCIsIl9nZXRIb3RlbHMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsdUlDbEVpQixTQUFDQyxFQUFJbEIsRUFBTW1CLEVBQWFDLEVBQVlDLEVBQVVDLEVBQU9DLEVBQVFDLEVBQU9DLEVBQU1DLEVBQVNDLEdB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QyxFQUFVQyxFQUFPQyxFQUFRQyxFQUFPQyxFQUFNQyxFQUFTQyxJQUVwRyxJQUNId0MsRUFBRSxlQUFlQyxLQUFLUSxHQUN0QlQsRUFBRSxpQkFBaUJLLEdBQUcsUUFBUyxTQUFBQyxHQUMzQixJQUFJdkQsRUFBS2lELEVBQUVNLEVBQUVNLFFBQVF2QixPQUFPd0IsUUFDeEJiLG9CQUFhakQsSUFBTStELFNBQVMsT0FDNUJkLG9CQUFhakQsSUFBTW1ELFNBQVMsUUFDNUJGLG9CQUFhakQsSUFBTWtELEtBQUssa0JBRXhCbEIsRUFBWWhDLEdBQ1ppRCxvQkFBYWpELElBQU1rRCxLQUFLLHFCQUtuQ0UsTUFBTSxTQUFBQyxHQUNITixRQUFRQyxJQUFJSyxHQUNaLElBQU1XLEdBQVEsRUFBQWxDLEVBQUFtQyxZQUNkaEIsRUFBRSxlQUFlQyxLQUFLYyxLQWdDOUJFIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiXG5jb25zdCBob3RlbEJveCA9IChpZCwgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGVfc3RhcnQsIGRhdGVfZW5kLCBwcmljZSwgcmF0aW5nLCBzdGFycywgY2l0eSwgY291bnRyeSwgaW1hZ2VzKSA9PiB7XG4gICAgXG4gICAgLy8gY29udmVydGluZyBkYXRldGltZSB0byBnZXJtYW4gZm9ybWF0IC0gaGVscGVyIGZ1bmN0aW9uXG4gICAgY29uc3Qgc3RhcnRpbmdfZGF0ZSA9IGNvbnZlcnRHZXJtYW5UaW1lKGRhdGVfc3RhcnQpXG4gICAgY29uc3QgZW5kaW5nX2RhdGUgPSBjb252ZXJ0R2VybWFuVGltZShkYXRlX2VuZClcbiAgICAvLyBzZWxlY3RzIGEgcmFuZG9tIGltYWdlIGZyb20gdGhlIGltYWdlcyBhcnJheVxuICAgIGNvbnN0IGxhc3RfaW5kZXggPSBpbWFnZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBpbWFnZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgobGFzdF9pbmRleCAtIGltYWdlc1swXSkgKyAxKSArIGltYWdlc1swXSk7XG4gICAgLy8gY3JlYXRlcyBzdGFycyBlcXVhbCB0byB0aGUgdmFsdWUgb2Ygc3RhcnMnIGRpZ2l0XG4gICAgbGV0IHJhdGluZ3MgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJzOyBpICs9IDEpIHtcbiAgICAgICAgcmF0aW5ncyArPSAnPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCI+PC9pPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJob3RlbEJveFwiIGlkPVwiaG90ZWxfJHtpZH1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNCBuby1wYWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RlbF9pbWFnZVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpbWFnZXN9XCIgY2xhc3M9XCJpbWctZmx1aWQgaF9pbWFnZVwiIGFsdD1cImhvdGVsXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBuby1wYWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RlbF9kZXRhaWxzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTkgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJoX25hbWUgZmxvYXQtbGVmdFwiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtuYW1lfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIFwiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaF9sb2NhdGlvbiBmbG9hdC1sZWZ0XCI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjaXR5fSAtICR7Y291bnRyeX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgXCI+IFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaF9yYXRpbmcgZmxvYXQtcmlnaHRcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgJHtyYXRpbmdzfVxuXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMTIgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImhfZGVzY3JpcHRpb24gZmxvYXQtbGVmdFwiPiR7ZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGVsX2RldGFpbHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNSBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeSBsb2FkX3Jldmlld3NcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10YXJnZXQ9XCIjcmV2aWV3XyR7aWR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibG9hZGVyXyR7aWR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaG90ZWwtaWQ9XCIke2lkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwiI3Jldmlld18ke2lkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+U2hvdyBSZXZpZXdzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTcgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImhfcHJpY2UgZmxvYXQtcmlnaHRcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtwcmljZX0mI3hBMDsmI3gyMEFDO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMTIgXCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImhfZGF0ZXMgZmxvYXQtcmlnaHRcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3RhcnRpbmdfZGF0ZX0mI3hBMDstJiN4QTA7JHtlbmRpbmdfZGF0ZX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMTIgaG90ZWxfcmV2aWV3cyBuby1wYWRcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJyZXZpZXdfJHtpZH1cIiBjbGFzcz1cInJldmlld0JveCBjb2xsYXBzZSBjb2wtbGctMTJcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbiAgYFxufTtcblxuY29uc3QgcmV2aWV3Qm94ID0gKG5hbWUsIGNvbW1lbnQsIHBvc2l0aXZlLCBsYXN0X3JldmlldykgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBwb3NpdGl2ZSA/ICc8aSBjbGFzcz1cImZhIGZhLXBsdXMtY2lyY2xlIHBvc2l0aXZlXCI+PC9pPicgOiAnPGkgY2xhc3M9XCJmYSBmYS1taW51cy1jaXJjbGUgbmVnYXRpdmVcIj48L2k+J1xuICAgIGNvbnN0IHNlcGFyYXRvciA9IGxhc3RfcmV2aWV3ID09IHRydWUgPyAnJyA6ICc8aHI+J1xuICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMVwiPiBcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjX3R5cGUgZmxvYXQtcmlnaHRcIj5cblxuICAgICAgICAgICAgICAgICAgJHt0eXBlfVxuXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMlwiPiA8c3BhbiBjbGFzcz1cImNvbW1lbnRlciBmbG9hdC1sZWZ0XCI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7bmFtZX1cblxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNvbW1lbnRcIj4ke2NvbW1lbnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICR7c2VwYXJhdG9yfVxuICAgIGBcbn07XG5cbi8vIGNvbnZlcnRpbmcgZGF0ZXRpbWUgdG8gZ2VybWFuIGZvcm1hdCAtIGhlbHBlciBmdW5jdGlvblxuY29uc3QgY29udmVydEdlcm1hblRpbWUgPSAoZGF0ZSkgPT4ge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdkZS1ERScsIHtcbiAgICAgICAgZGF5OiAnMi1kaWdpdCcsXG4gICAgICAgIG1vbnRoOiAnMi1kaWdpdCcsXG4gICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgIH0pO1xufVxuXG5jb25zdCBlcnJvckJveCA9ICgpID0+IHtcbiAgICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXIgdGV4dC1jZW50ZXJcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiYjeEQ3Ozwvc3Bhbj5cbiAgICA8L2J1dHRvbj5BbiBlcnJvciBvY2N1cmVkPC9kaXY+XG4gICAgYFxufVxuXG5leHBvcnQge1xuICAgIGhvdGVsQm94LFxuICAgIGVycm9yQm94LFxuICAgIHJldmlld0JveFxufSIsImltcG9ydCB7XHJcbiAgICBob3RlbEJveCwgZXJyb3JCb3gsIHJldmlld0JveFxyXG59XHJcbmZyb20gJy4vdGVtcGxhdGVzJztcclxuXHJcbmltcG9ydCBzdHlsZSBmcm9tICcuL3Njc3MvbWFpbi5zY3NzJztcclxuXHJcbi8vIG1ldGhvZCBmb3IgZmV0Y2hpbmcgaG90ZWxzXHJcbmNvbnN0IF9nZXRIb3RlbHMgPSAoKSA9PiB7XHJcbiAgICBpZiAoJCgnLmFwaV9lcnJvcicpICE9PSBudWxsKSAkKCcuYXBpX2Vycm9yJykucmVtb3ZlKCk7XHJcbiAgICBsZXQgdXJsID0gJ2h0dHBzOi8vZmFrZS1ob3RlbC1hcGkuaGVyb2t1YXBwLmNvbS9hcGkvaG90ZWxzP2NvdW50PTUnO1xyXG4gICAgZmV0Y2godXJsKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaG90ZWxzID0gZGF0YS5yZWR1Y2UoKGxpc3QsIGhvdGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBkYXRlX3N0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVfZW5kLFxyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZyxcclxuICAgICAgICAgICAgICAgICAgICBzdGFycyxcclxuICAgICAgICAgICAgICAgICAgICBjaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnksXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzXHJcbiAgICAgICAgICAgICAgICB9ID0gaG90ZWw7XHJcbiAgICAgICAgICAgICAgICBsaXN0ICs9IGhvdGVsQm94KGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZV9zdGFydCwgZGF0ZV9lbmQsIHByaWNlLCByYXRpbmcsIHN0YXJzLCBjaXR5LCBjb3VudHJ5LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH0sICcnKTtcclxuICAgICAgICAgICAgJChcIi5ob3RlbF9saXN0XCIpLmh0bWwoaG90ZWxzKTtcclxuICAgICAgICAgICAgJChcIi5sb2FkX3Jldmlld3NcIikub24oJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSAkKGUudGFyZ2V0KS5kYXRhKCkuaG90ZWxJZDtcclxuICAgICAgICAgICAgICAgIGlmICgkKGAjcmV2aWV3XyR7aWR9YCkuaGFzQ2xhc3MoJ2luJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjcmV2aWV3XyR7aWR9YCkuY29sbGFwc2UoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjbG9hZGVyXyR7aWR9YCkuaHRtbCgnU2hvdyBSZXZpZXdzJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2dldFJldmlld3MoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCNsb2FkZXJfJHtpZH1gKS5odG1sKCdIaWRlIFJldmlld3MnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsZXJ0ID0gZXJyb3JCb3goKTtcclxuICAgICAgICAgICAgJChcIi5ob3RlbF9saXN0XCIpLmh0bWwoYWxlcnQpO1xyXG4gICAgICAgIH0pXHJcbn07XHJcblxyXG4vLyBtZXRob2QgZm9yIGNoZWNraW5nIGxhc3QgaW5kZXhcclxuY29uc3QgaXNMYXN0ID0gKGluZGV4LCBsZW4pID0+IHRydWUgPyBsZW4gLSAxID09IGluZGV4IDogZmFsc2U7XHJcblxyXG4vLyBtZXRob2QgZm9yIGZldGNoaW5nIHJldmlld3NcclxuY29uc3QgX2dldFJldmlld3MgPSBpZCA9PiB7XHJcbiAgICBsZXQgdXJsID0gYGh0dHBzOi8vZmFrZS1ob3RlbC1hcGkuaGVyb2t1YXBwLmNvbS9hcGkvcmV2aWV3cz9ob3RlbF9pZD0ke2lkfWBcclxuICAgIGZldGNoKHVybClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJldmlld3MgPSBkYXRhLnJlZHVjZSgobGlzdCwgcmV2aWV3LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZVxyXG4gICAgICAgICAgICAgICAgfSA9IHJldmlldztcclxuICAgICAgICAgICAgICAgIGxpc3QgKz0gcmV2aWV3Qm94KG5hbWUsIGNvbW1lbnQsIHBvc2l0aXZlLCBpc0xhc3QoaW5kZXgsIGRhdGEubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICAgICAgfSwgJycpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJldmlld3MpOztcclxuICAgICAgICAgICAgJChgI3Jldmlld18ke2lkfWApLmh0bWwocmV2aWV3cyk7XHJcbiAgICAgICAgICAgICQoYCNyZXZpZXdfJHtpZH1gKS5jb2xsYXBzZSgnc2hvdycpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGVycm9yKVxyXG59O1xyXG5cclxuLy8gdGhlIHN0YXJ0IG9mIHRoZSBhd2Vzb21lXHJcbiQoJy5sb2FkX2hvdGVscycpLm9uKCdjbGljaycsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgX2dldEhvdGVscygpO1xyXG59KTsiXSwic291cmNlUm9vdCI6IiJ9